"use strict";(self.webpackChunk_orca_so_whirlpools_docs=self.webpackChunk_orca_so_whirlpools_docs||[]).push([[606],{1184:(e,o,i)=>{i.d(o,{R:()=>s,x:()=>a});var n=i(4041);const t={},r=n.createContext(t);function s(e){const o=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(r.Provider,{value:o},e.children)}},1517:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"Architecture Overview/Account Architecture","title":"Account Architecture","description":"Overview","source":"@site/docs/02-Architecture Overview/01-Account Architecture.md","sourceDirName":"02-Architecture Overview","slug":"/Architecture Overview/Account Architecture","permalink":"/Architecture Overview/Account Architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/orca-so/whirlpools/tree/main/docs/whirlpool/docs/02-Architecture Overview/01-Account Architecture.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"sidebar","previous":{"title":"Welcome","permalink":"/"},"next":{"title":"Price & Ticks","permalink":"/Architecture Overview/Price & Ticks"}}');var t=i(1085),r=i(1184);const s={},a="Account Architecture",c={},l=[{value:"Overview",id:"overview",level:2},{value:"WhirlpoolsConfig",id:"whirlpoolsconfig",level:2},{value:"WhirlpoolConfigExtension",id:"whirlpoolconfigextension",level:2},{value:"FeeTier",id:"feetier",level:2},{value:"Whirlpool",id:"whirlpool",level:2},{value:"TickArray",id:"tickarray",level:2},{value:"Position",id:"position",level:2},{value:"PositionBundle",id:"positionbundle",level:2},{value:"TokenBadge",id:"tokenbadge",level:2},{value:"How are Whirlpool Accounts stored",id:"how-are-whirlpool-accounts-stored",level:2}];function h(e){const o={a:"a",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"account-architecture",children:"Account Architecture"})}),"\n",(0,t.jsx)(o.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.img,{alt:"Account Architecture",src:i(5033).A+"",width:"800",height:"510"})}),"\n",(0,t.jsx)(o.h2,{id:"whirlpoolsconfig",children:"WhirlpoolsConfig"}),"\n",(0,t.jsxs)(o.p,{children:["The owner of a Config account has the authority to define the many authorities over the pools that it owns (ex. default fees, collect protocol fees etc.). Whirlpools visible on the ORCA UI are all derived and controlled by a WhirlpoolsConfig account owned by the ORCA foundation. To learn more about managing pools, start ",(0,t.jsx)(o.a,{href:"/SDKs/Whirlpool%20Management/Create%20Pool",children:"here"}),"."]}),"\n",(0,t.jsx)(o.p,{children:"Users and other protocols are free to deploy their own WhirlpoolsConfig account on our Whirlpool program to spawn their own set of liquidity pools."}),"\n",(0,t.jsx)(o.h2,{id:"whirlpoolconfigextension",children:"WhirlpoolConfigExtension"}),"\n",(0,t.jsx)(o.p,{children:"WhirlpoolsConfig account may have WhirlpoolsConfigExtension account. WhirlpoolsConfigExtension account holds some additional authorities to manage TokenExtensions, especially TokenBadge accounts."}),"\n",(0,t.jsx)(o.h2,{id:"feetier",children:"FeeTier"}),"\n",(0,t.jsx)(o.p,{children:"FeeTier is an account that defines the fee rate, defined per WhirlpoolsConfig and tick spacing."}),"\n",(0,t.jsx)(o.h2,{id:"whirlpool",children:"Whirlpool"}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.img,{alt:"Whirlpool Overview",src:i(2086).A+"",width:"800",height:"356"}),"\nA Whirlpool is a concentrated liquidity pool between a token pair (A & B)."]}),"\n",(0,t.jsx)(o.p,{children:"Each Whirlpool account hosts the necessary information to deal with the accounting of the pool. It also hosts the token accounts of the vaults. Only the Whirlpool program has authority to withdraw from the vault. No one, not even the program owner or WhirlpoolsConfig owner, has the authority to withdraw."}),"\n",(0,t.jsx)(o.p,{children:"A Whirlpool account is hashed by the Config, Token pair mints and tick spacing, so there can be many pools for the same trading pair but with a different tick-spacing."}),"\n",(0,t.jsx)(o.p,{children:"Users are able to perform position management and fee/reward collection operations against the Whirlpool."}),"\n",(0,t.jsx)(o.h2,{id:"tickarray",children:"TickArray"}),"\n",(0,t.jsxs)(o.p,{children:["To learn about TickArray, read ",(0,t.jsx)(o.a,{href:"/Architecture%20Overview/Understanding%20Tick%20Arrays",children:"Understanding Tick Arrays"})]}),"\n",(0,t.jsx)(o.h2,{id:"position",children:"Position"}),"\n",(0,t.jsxs)(o.p,{children:["Positions represent a set of liquidity distributed on a price range within a single Whirlpool. To learn more, read ",(0,t.jsx)(o.a,{href:"/Architecture%20Overview/Tokenized%20Positions",children:"Tokenized Positions"})]}),"\n",(0,t.jsx)(o.h2,{id:"positionbundle",children:"PositionBundle"}),"\n",(0,t.jsx)(o.p,{children:"By creating a PositionBundle, up to 256 positions can be managed by a single NFT. Also, by closing a position, a new position can be created on the same PositionBundle account, so there is no rent overhead when rebalancing."}),"\n",(0,t.jsx)(o.p,{children:"If you manage many positions and open and close them frequently, there is no reason not to use PositionBundle."}),"\n",(0,t.jsx)(o.h2,{id:"tokenbadge",children:"TokenBadge"}),"\n",(0,t.jsx)(o.p,{children:"This account was introduced to support TokenExtensions."}),"\n",(0,t.jsx)(o.p,{children:"While TokenExtensions provides useful extensions, there are extensions that pose a risk to the pool and pool users."}),"\n",(0,t.jsx)(o.p,{children:"Therefore, tokens with some extensions can only be used for pool initialization if TokenBadge authority has issued a TokenBadge for that token."}),"\n",(0,t.jsx)(o.h2,{id:"how-are-whirlpool-accounts-stored",children:"How are Whirlpool Accounts stored"}),"\n",(0,t.jsxs)(o.p,{children:["Whirlpool program accounts are all ",(0,t.jsx)(o.a,{href:"https://solana.com/docs/core/pda",children:"Program Derived Addresses"})," (PDA) derivable from another Whirlpool account up the hierarchy."]})]})}function d(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},2086:(e,o,i)=>{i.d(o,{A:()=>n});const n=i.p+"assets/images/whirlpool-overview-015cad00b617958fdd7aec9d7a608346.png"},5033:(e,o,i)=>{i.d(o,{A:()=>n});const n=i.p+"assets/images/architecture-overview-1671762e13baf6ad6afe1ed83dd0412b.png"}}]);