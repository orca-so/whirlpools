"use strict";(globalThis.webpackChunk_orca_so_whirlpools_docs=globalThis.webpackChunk_orca_so_whirlpools_docs||[]).push([[184],{1184:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>a});var r=n(4041);const i={},s=r.createContext(i);function l(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:t},e.children)}},1732:(e,t,n)=>{n.d(t,{A:()=>k});var r=n(4041),i=n(4357),s=n(7473),l=n(1034),a=n(6090),o=n(3351),c=n(6703),u=n(6004),d=n(6843);function h(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:t,children:n}=e;return(0,r.useMemo)(()=>{const e=t??function(e){return h(e).map(({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r}))}(n);return function(e){const t=(0,u.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function m({value:e,tabValues:t}){return t.some(t=>t.value===e)}function f({queryString:e=!1,groupId:t}){const n=(0,a.W6)(),i=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c.aZ)(i),(0,r.useCallback)(e=>{if(!i)return;const t=new URLSearchParams(n.location.search);t.set(i,e),n.replace({...n.location,search:t.toString()})},[i,n])]}function g(e){const{defaultValue:t,queryString:n=!1,groupId:i}=e,s=p(e),[l,a]=(0,r.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s})),[c,u]=f({queryString:n,groupId:i}),[h,g]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,i]=(0,d.Dv)(t);return[n,(0,r.useCallback)(e=>{t&&i.set(e)},[t,i])]}({groupId:i}),x=(()=>{const e=c??h;return m({value:e,tabValues:s})?e:null})();(0,o.A)(()=>{x&&a(x)},[x]);return{selectedValue:l,selectValue:(0,r.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);a(e),u(e),g(e)},[u,g,s]),tabValues:s}}var x=n(213);const y={tabList:"tabList_M0Dn",tabItem:"tabItem_ysIP"};var b=n(1085);function v({className:e,block:t,selectedValue:n,selectValue:r,tabValues:s}){const a=[],{blockElementScrollPositionUntilNextRender:o}=(0,l.a_)(),c=e=>{const t=e.currentTarget,i=a.indexOf(t),l=s[i].value;l!==n&&(o(t),r(l))},u=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=a.indexOf(e.currentTarget)+1;t=a[n]??a[0];break}case"ArrowLeft":{const n=a.indexOf(e.currentTarget)-1;t=a[n]??a[a.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":t},e),children:s.map(({value:e,label:t,attributes:r})=>(0,b.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{a.push(e)},onKeyDown:u,onClick:c,...r,className:(0,i.A)("tabs__item",y.tabItem,r?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function j({lazy:e,children:t,selectedValue:n}){const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===n);return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function _(e){const t=g(e);return(0,b.jsxs)("div",{className:(0,i.A)(s.G.tabs.container,"tabs-container",y.tabList),children:[(0,b.jsx)(v,{...t,...e}),(0,b.jsx)(j,{...t,...e})]})}function k(e){const t=(0,x.A)();return(0,b.jsx)(_,{...e,children:h(e.children)},String(t))}},3759:(e,t,n)=>{n.d(t,{A:()=>l});n(4041);var r=n(4357);const i={tabItem:"tabItem_OMyP"};var s=n(1085);function l({children:e,hidden:t,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,n),hidden:t,children:e})}},8335:(e,t,n)=>{n.d(t,{A:()=>_});var r=n(4041),i=n(4357),s=n(2436),l=n(8082),a=n(396);const o=["zero","one","two","few","many","other"];function c(e){return o.filter(t=>e.includes(t))}const u={locale:"en",pluralForms:c(["one","other"]),select:e=>1===e?"one":"other"};function d(){const{i18n:{currentLocale:e}}=(0,a.A)();return(0,r.useMemo)(()=>{try{return function(e){const t=new Intl.PluralRules(e);return{locale:e,pluralForms:c(t.resolvedOptions().pluralCategories),select:e=>t.select(e)}}(e)}catch(t){return console.error(`Failed to use Intl.PluralRules for locale "${e}".\nDocusaurus will fallback to the default (English) implementation.\nError: ${t.message}\n`),u}},[e])}function h(){const e=d();return{selectMessage:(t,n)=>function(e,t,n){const r=e.split("|");if(1===r.length)return r[0];r.length>n.pluralForms.length&&console.error(`For locale=${n.locale}, a maximum of ${n.pluralForms.length} plural forms are expected (${n.pluralForms.join(",")}), but the message contains ${r.length}: ${e}`);const i=n.select(t),s=n.pluralForms.indexOf(i);return r[Math.min(s,r.length-1)]}(n,t,e)}}var p=n(5436),m=n(9082),f=n(4441);const g={cardContainer:"cardContainer_S8oU",cardTitle:"cardTitle_HoSo",cardDescription:"cardDescription_c27F"};var x=n(1085);function y({href:e,children:t}){return(0,x.jsx)(s.A,{href:e,className:(0,i.A)("card padding--lg",g.cardContainer),children:t})}function b({href:e,icon:t,title:n,description:r}){return(0,x.jsxs)(y,{href:e,children:[(0,x.jsxs)(f.A,{as:"h2",className:(0,i.A)("text--truncate",g.cardTitle),title:n,children:[t," ",n]}),r&&(0,x.jsx)("p",{className:(0,i.A)("text--truncate",g.cardDescription),title:r,children:r})]})}function v({item:e}){const t=(0,l.Nr)(e),n=function(){const{selectMessage:e}=h();return t=>e(t,(0,m.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t}))}();return t?(0,x.jsx)(b,{href:t,icon:"\ud83d\uddc3\ufe0f",title:e.label,description:e.description??n(e.items.length)}):null}function j({item:e}){const t=(0,p.A)(e.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",n=(0,l.cC)(e.docId??void 0);return(0,x.jsx)(b,{href:e.href,icon:t,title:e.label,description:e.description??n?.description})}function _({item:e}){switch(e.type){case"link":return(0,x.jsx)(j,{item:e});case"category":return(0,x.jsx)(v,{item:e});default:throw new Error(`unknown item type ${JSON.stringify(e)}`)}}},9518:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>m,frontMatter:()=>c,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"SDKs/Utilities","title":"Orca Utility Helpers","description":"The Orca SDKs provide a range of utility functions that you may use when interacting with the Whirlpool protocol.","source":"@site/docs/03-SDKs/07-Utilities.mdx","sourceDirName":"03-SDKs","slug":"/SDKs/Utilities","permalink":"/SDKs/Utilities","draft":false,"unlisted":false,"editUrl":"https://github.com/orca-so/whirlpools/tree/main/docs/whirlpool/docs/03-SDKs/07-Utilities.mdx","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_label":"Utilities","hide_table_of_contents":true},"sidebar":"sidebar","previous":{"title":"Send Transactions","permalink":"/SDKs/Send Transaction"},"next":{"title":"API","permalink":"/API"}}');var i=n(1085),s=n(1184),l=n(1732),a=n(3759),o=n(8335);const c={sidebar_label:"Utilities",hide_table_of_contents:!0},u="Orca Utility Helpers",d={},h=[{value:"Orca Whirlpools Core SDK",id:"orca-whirlpools-core-sdk",level:2},{value:"Key Features",id:"key-features",level:2},{value:"Installation:",id:"installation",level:3},{value:"Usage",id:"usage",level:3},{value:"Math Example",id:"math-example",level:4},{value:"Quote Example",id:"quote-example",level:4},{value:"Important Util helpers",id:"important-util-helpers",level:2},{value:"PDAUtil",id:"pdautil",level:3},{value:"PriceMath",id:"pricemath",level:3},{value:"TickUtil",id:"tickutil",level:3},{value:"TickArrayUtil",id:"tickarrayutil",level:3},{value:"PoolUtil",id:"poolutil",level:3}];function p(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"orca-utility-helpers",children:"Orca Utility Helpers"})}),"\n",(0,i.jsx)(t.p,{children:"The Orca SDKs provide a range of utility functions that you may use when interacting with the Whirlpool protocol."}),"\n",(0,i.jsxs)(l.A,{groupId:"sdk-type",children:[(0,i.jsxs)(a.A,{value:"rust-ts-kit",label:"Rust & Typescript Kit",children:[(0,i.jsx)(t.h2,{id:"orca-whirlpools-core-sdk",children:"Orca Whirlpools Core SDK"}),(0,i.jsx)(t.p,{children:"This package provides developers with advanced functionalities for interacting with the Whirlpool Program on Solana. Originally written in Rust, it has been compiled to WebAssembly (Wasm). This compilation makes the SDK accessible in JavaScript/TypeScript environments, offering developers the same core features and calculations for their Typescript projects. The SDK exposes convenient methods for math calculations, quotes, and other utilities, enabling seamless integration within web-based projects."}),(0,i.jsx)(t.h2,{id:"key-features",children:"Key Features"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Math Library"}),": Contains a variety of functions for math operations related to bundles, positions, prices, ticks, and tokens, including calculations such as determining position status or price conversions."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Quote Library"}),": Provides utility functions for generating quotes, such as increasing liquidity, collecting fees or rewards, and swapping, to help developers make informed decisions regarding liquidity management."]}),"\n"]}),(0,i.jsx)(t.h3,{id:"installation",children:"Installation:"}),(0,i.jsxs)(l.A,{groupId:"programming-languages",children:[(0,i.jsx)(a.A,{value:"rust",label:"Rust",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"cargo add orca_whirlpools_core\n"})})}),(0,i.jsx)(a.A,{value:"ts-kit",label:"Typescript Kit",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"npm install @orca-so/whirlpools-core\n"})})})]}),(0,i.jsx)(t.h3,{id:"usage",children:"Usage"}),(0,i.jsx)(t.p,{children:"Here are some basic examples of how to use the package:"}),(0,i.jsx)(t.h4,{id:"math-example",children:"Math Example"}),(0,i.jsxs)(t.p,{children:["The following example demonstrates how to use the ",(0,i.jsx)(t.code,{children:"isPositionInRange"})," function to determine whether a position is currently in range."]}),(0,i.jsxs)(l.A,{groupId:"programming-languages",children:[(0,i.jsxs)(a.A,{value:"rust",label:"Rust",children:[(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-rust",children:'use orca_whirlpools_core::is_position_in_range;\n\nfn main() {\n    let current_sqrt_price = 7448043534253661173u128;\n    let tick_index_1 = -18304;\n    let tick_index_2 = -17956;\n\n    let in_range = is_position_in_range(current_sqrt_price.into(), tick_index_1, tick_index_2);\n    println!("Position in range? {:?}", in_range);\n}\n'})}),(0,i.jsx)(t.p,{children:"Expected output:"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Position in range? true\n"})})]}),(0,i.jsxs)(a.A,{value:"ts-kit",label:"Typescript Kit",default:!0,children:[(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",children:'import { isPositionInRange } from "@orca-so/whirlpools-core";\n\nconst currentSqrtPrice = 7448043534253661173n;\nconst tickIndex1 = -18304;\nconst tickIndex2 = -17956;\n\nconst inRange = isPositionInRange(currentSqrtPrice, tickIndex1, tickIndex2);\nconsole.log("Position in range:", inRange);\n'})}),(0,i.jsx)(t.p,{children:"Expected output:"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Position in range? true\n"})})]})]}),(0,i.jsx)(t.h4,{id:"quote-example",children:"Quote Example"}),(0,i.jsxs)(t.p,{children:["The following example demonstrates how to use the ",(0,i.jsx)(t.code,{children:"increaseLiquidityQuoteA"})," function to calculate a quote for increasing liquidity given a token A amount."]}),(0,i.jsxs)(l.A,{groupId:"programming-languages",children:[(0,i.jsxs)(a.A,{value:"rust",label:"Rust",children:[(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-rust",children:'use orca_whirlpools_core::increase_liquidity_quote_a;\nuse orca_whirlpools_core::TransferFee;\n\nfn main() {\n    let token_amount_a = 1000000000u64;\n    let slippage_tolerance_bps = 100u16;\n    let current_sqrt_price = 7437568627975669726u128;\n    let tick_index_1 = -18568;\n    let tick_index_2 = -17668;\n    let transfer_fee_a = Some(TransferFee::new(200));\n    let transfer_fee_b = None;\n\n    let quote = increase_liquidity_quote_a(\n        token_amount_a,\n        slippage_tolerance_bps,\n        current_sqrt_price.into(),\n        tick_index_1,\n        tick_index_2,\n        transfer_fee_a,\n        transfer_fee_b,\n    ).unwrap();\n    \n    println!("{:?}", quote);\n}\n'})}),(0,i.jsx)(t.p,{children:"Expected output:"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"IncreaseLiquidityQuote {\n    liquidity_delta: 16011047470,\n    token_est_a: 1000000000,\n    token_est_b: 127889169,\n    token_max_a: 1010000000,\n    token_max_b: 129168061,\n}\n"})})]}),(0,i.jsxs)(a.A,{value:"ts-kit",label:"Typescript Kit",default:!0,children:[(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",children:'import { increaseLiquidityQuoteA } from "@orca-so/whirlpools-core";\n\nconst tokenAmountA = 1000000000n;\nconst slippageToleranceBps = 100;\nconst currentSqrtPrice = 7437568627975669726n;\nconst tickIndex1 = -18568;\nconst tickIndex2 = -17668;\nconst transferFeeA = { feeBps: 200, maxFee: 1000000000n };\n\nconst quote = increaseLiquidityQuoteA(\ntokenAmountA,\nslippageToleranceBps,\ncurrentSqrtPrice,\ntickIndex1,\ntickIndex2,\ntransferFeeA,\n);\n\nconsole.log(quote);\n'})}),(0,i.jsx)(t.p,{children:"Expected output:"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"{\n    liquidityDelta: 16011047470n,\n    tokenEstA: 1000000000n,\n    tokenEstB: 127889169n,\n    tokenMaxA: 1010000000n,\n    tokenMaxB: 129168061n\n}\n"})})]})]})]}),(0,i.jsxs)(a.A,{value:"ts-legacy",label:"Typescript Legacy",children:[(0,i.jsx)(t.h2,{id:"important-util-helpers",children:"Important Util helpers"}),(0,i.jsx)(t.p,{children:"Reference the following utility types to help you interact with the Whirlpool protocol."}),(0,i.jsx)(t.h3,{id:"pdautil",children:"PDAUtil"}),(0,i.jsx)(t.p,{children:"Utility class to help you derive the PDA for Whirlpool accounts"}),(0,i.jsx)(o.A,{item:{type:"link",href:"https://dev.orca.so/legacy/classes/PDAUtil.html",label:"PDAUtil | @orca-so/whirlpools",description:"https://dev.orca.so/legacy/classes/PDAUtil.html"}}),(0,i.jsx)(t.h3,{id:"pricemath",children:"PriceMath"}),(0,i.jsx)(t.p,{children:"Utility methods to help you convert between sqrt-price, price and tick index."}),(0,i.jsx)(o.A,{item:{type:"link",href:"https://dev.orca.so/legacy/classes/PriceMath.html",label:"PriceMath | @orca-so/whirlpools",description:"https://dev.orca.so/legacy/classes/PriceMath.html"}}),(0,i.jsx)(t.h3,{id:"tickutil",children:"TickUtil"}),(0,i.jsx)(t.p,{children:"Utility class hosting Tick utility methods such as finding initializable ticks, deriving tick array start-index etc."}),(0,i.jsx)(o.A,{item:{type:"link",href:"https://dev.orca.so/legacy/classes/TickUtil.html",label:"TickUtil | @orca-so/whirlpools",description:"https://dev.orca.so/legacy/classes/TickUtil.html"}}),(0,i.jsx)(t.h3,{id:"tickarrayutil",children:"TickArrayUtil"}),(0,i.jsx)(t.p,{children:"Utility class to help fetch TickArray data."}),(0,i.jsx)(o.A,{item:{type:"link",href:"https://dev.orca.so/legacy/classes/TickArrayUtil.html",label:"TickArrayUtil | @orca-so/whirlpools",description:"https://dev.orca.so/legacy/classes/TickArrayUtil.html"}}),(0,i.jsx)(t.h3,{id:"poolutil",children:"PoolUtil"}),(0,i.jsx)(t.p,{children:"A collection of utility methods that you may use when interacting with the Whirlpool account."}),(0,i.jsx)(o.A,{item:{type:"link",href:"https://dev.orca.so/legacy/classes/PoolUtil.html",label:"PoolUtil | @orca-so/whirlpools",description:"https://dev.orca.so/legacy/classes/PoolUtil.html"}})]})]})]})}function m(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);