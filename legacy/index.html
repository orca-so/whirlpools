<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Documentation</title><meta name="description" content="Documentation for Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Documentation</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Documentation</h1></div><div class="tsd-panel tsd-typography"><h1 id="whirlpools" class="tsd-anchor-link">Whirlpools<a href="#whirlpools" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Whirlpools is an open-source concentrated liquidity AMM contract on the Solana blockchain.
This repository contains the Rust smart contract and SDKs to interact with a deployed program.</p>
<p>The official deployment of the whirlpool contract can be found at the <code>whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc</code> address on:</p>
<ul>
<li><a href="https://solscan.io/account/whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc">Solana Mainnet</a></li>
<li><a href="https://solscan.io/account/whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc?cluster=devnet">Solana Devnet</a></li>
</ul>
<p>The contract is deployed using verifiable build, so that you can ensure that the hash of the on-chain program matches the hash of the program in this codebase.</p>
<ul>
<li><a href="https://github.com/Ellipsis-Labs/solana-verifiable-build">Solana Verify CLI</a></li>
<li><a href="https://verify.osec.io/status/whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc">Verification result on Osec API</a></li>
</ul>
<p>The program has been audited several times by different security firms.</p>
<ul>
<li>Jan 28th, 2022 - <a href="/.audits/2022-01-28.pdf">Kudelski Security</a></li>
<li>May 5th, 2022 - <a href="/.audits/2022-05-05.pdf">Neodyme</a></li>
<li>Aug 21st, 2024 - <a href="/.audits/2024-08-21.pdf">OtterSec</a></li>
<li>Feb 28th, 2025 - <a href="/.audits/2025-02-28.pdf">Sec3</a></li>
<li>Jun 23rd, 2025 - <a href="/.audits/2025-06-23.pdf">Sec3</a></li>
<li>Aug 22nd, 2025 - <a href="/.audits/2025-08-22.pdf">Sec3</a></li>
</ul>
<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This repository contains several libraries that can be used to interact with the Whirlpools contract. For most purposes you can use our high-level SDKs, <code>@orca-so/whirlpools</code> for Typescript projects, and <code>orca_whirlpools</code> for Rust projects.</p>
<p>For specific use-cases you can opt for integrating with lower level packages such as:</p>
<ul>
<li><code>@orca-so/whirlpools-client</code> &amp; <code>orca_whirlpools_client</code> - auto-generated client for the Whirlpools program that contains account, instruction and error parsing.</li>
<li><code>@orca-so/whirlpools-core</code> &amp; <code>orca_whirlpools_core</code> - utility, math and quoting functions used by other packages.</li>
</ul>
<p>The legacy Typescript SDK (<code>@orca-so/whirlpools-sdk</code>) remains a solid choice, and itâ€™s currently the only option if your project uses Solana Web3.js.</p>
<p>For a more detailed overview of our SDK suite and usage examples, visit our <a href="https://dev.orca.so/">developer documentation</a> site.</p>
<h2 id="local-development" class="tsd-anchor-link">Local Development<a href="#local-development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This monorepo contains all the code needed to build, deploy and interact with the Whirlpools contract.</p>
<h3 id="requirements" class="tsd-anchor-link">Requirements<a href="#requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Anchor v0.29.0</li>
<li>Solana v1.17.22</li>
</ul>
<h3 id="getting-started" class="tsd-anchor-link">Getting Started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="automated-setup-script" class="tsd-anchor-link">Automated Setup Script<a href="#automated-setup-script" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>For a complete development environment setup, use the provided setup script:</p>
<pre><code class="bash"><span class="hl-0">chmod</span><span class="hl-1"> </span><span class="hl-2">+x</span><span class="hl-1"> </span><span class="hl-2">scripts/setup.sh</span><br/><span class="hl-0">./scripts/setup.sh</span>
</code><button type="button">Copy</button></pre>

<p>This script installs all required dependencies and builds the project. It's designed for fresh environments (cloud VMs, containers, new machines) and doesn't check for existing versions. The script also serves as a reference for understanding which dependencies are needed at each stage.</p>
<h4 id="manual-setup" class="tsd-anchor-link">Manual Setup<a href="#manual-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If you prefer manual installation or already have some dependencies:</p>
<ul>
<li>Install system dependencies (build tools, Node.js, Rust, Solana CLI, Anchor)
<ul>
<li>Reference <code>scripts/setup.sh</code> for the exact versions and installation steps</li>
</ul>
</li>
<li>Clone this repository: <code>git clone https://github.com/orca-so/whirlpools</code></li>
<li>Install JavaScript dependencies: <code>yarn</code></li>
<li>Build the project: <code>yarn build</code></li>
<li>Set up a Solana wallet if needed (see below)</li>
</ul>
<h4 id="setting-up-a-solana-wallet" class="tsd-anchor-link">Setting up a Solana wallet<a href="#setting-up-a-solana-wallet" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Create a new keypair using <code>solana-keygen new</code>.</li>
<li>Check if you have a valid wallet address using <code>solana address</code>.</li>
<li>Set your local config to the Solana devnet env using <code>solana config set --url https://api.devnet.solana.com</code>.</li>
<li>Give yourself some devnet SOL (for transaction fees) using <code>solana airdrop 1</code>.</li>
<li>Check if you have a positive balance using <code>solana balance</code>.</li>
</ul>
<h3 id="components" class="tsd-anchor-link">Components<a href="#components" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This repository uses NX to manage the Rust and Typescript codebases. This allows us to have a monorepo with multiple packages and share code between them. Dependencies between packages are automatically resolved by NX, so you don't have to worry about managing that yourself.</p>
<p>This repository is split up into several parts. The following is a (non-exhaustive) list of the components and their purpose.</p>
<ul>
<li><strong><code>/programs/*</code></strong> - Rust programs that are deployed on Solana.</li>
<li><strong><code>/ts-sdk/*</code></strong> - Typescript SDKs for interacting with the programs.</li>
<li><strong><code>/rust-sdk/*</code></strong> - Rust SDKs for interacting with the programs.</li>
<li><strong><code>/docs/*</code></strong> - Documentation for the programs and SDKs.</li>
<li><strong><code>/legacy-sdk/*</code></strong> - Legacy Typescript SDKs and integration tests.</li>
</ul>
<h3 id="commands" class="tsd-anchor-link">Commands<a href="#commands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All commands should be run from the root of the repository. NX will try to run a command with the same name for each individual component, skipping the component if that specific command does not exist.</p>
<p>Below is a (non-exhaustive) list of available commands:</p>
<ul>
<li><strong><code>yarn build</code></strong> - compile the components for deployment or serving.</li>
<li><strong><code>yarn clean</code></strong> - clean up all local build products, useful for when builds are failing.</li>
<li><strong><code>yarn test</code></strong> - run the tests for all components.</li>
<li><strong><code>yarn format</code></strong> - run formatter to format code.</li>
</ul>
<p>If you look closely, the commands just call individual commands specified in the component's <code>package.json</code> file. These commands should not be run by themselves as it will not resolve the right dependencies and will not execute the prerequisites. Instead you can specify which package to run with <code>yarn build programs/whirlpool</code>, <code>yarn test legacy-sdk/whirlpool</code>, etc.</p>
<p>If you want to stream the logs of a specific command you can add the <code>--output-style stream</code> flag to the command. This allows you to view the logs of the command as they are being produced which can be useful for longer running tasks like integration tests.</p>
<h3 id="changesets" class="tsd-anchor-link">Changesets<a href="#changesets" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When contributing to this repository, please include a changeset with your changes. You can create a changeset by running <code>yarn changeset</code>. If your changes are not related to any of the packages, you can create an empty changeset by running <code>yarn changeset --empty</code>. In your pull request, you do not have to manually update the version numbers.</p>
<p>To publish packages to npm and cargo, you can run run the <code>publish</code> gh action. This will update the versions of the packages and publish them to npm and cargo.</p>
<h1 id="support" class="tsd-anchor-link">Support<a href="#support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Have problems integrating with the SDK? Pop by over to the Orca <a href="https://discord.gg/nSwGWn5KSG">Discord</a> #dev-questions channel and chat with one of our engineers.</p>
<h3 id="feedback" class="tsd-anchor-link">Feedback<a href="#feedback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Got ideas on how to improve the system? Open up an issue on github and let's brainstorm more about it together!</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#whirlpools"><span>Whirlpools</span></a><ul><li><a href="#usage"><span>Usage</span></a></li><li><a href="#local-development"><span>Local <wbr/>Development</span></a></li><li><ul><li><a href="#requirements"><span>Requirements</span></a></li><li><a href="#getting-started"><span>Getting <wbr/>Started</span></a></li><li><ul><li><a href="#automated-setup-script"><span>Automated <wbr/>Setup <wbr/>Script</span></a></li><li><a href="#manual-setup"><span>Manual <wbr/>Setup</span></a></li><li><a href="#setting-up-a-solana-wallet"><span>Setting up a <wbr/>Solana wallet</span></a></li></ul></li><li><a href="#components"><span>Components</span></a></li><li><a href="#commands"><span>Commands</span></a></li><li><a href="#changesets"><span>Changesets</span></a></li></ul></li></ul><a href="#support"><span>Support</span></a><ul><li><a href="#feedback"><span>Feedback</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">Documentation</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
