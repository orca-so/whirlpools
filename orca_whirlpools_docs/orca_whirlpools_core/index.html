<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Orca Whirlpools Core SDK"><title>orca_whirlpools_docs::orca_whirlpools_core - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-42caa33d.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="orca_whirlpools_docs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.0 (9fc6b4312 2025-01-07)" data-channel="1.84.0" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../orca_whirlpools_docs/index.html">orca_<wbr>whirlpools_<wbr>docs</a><span class="version">0.2.5</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module orca_<wbr>whirlpools_<wbr>core</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#orca-whirlpools-core-sdk" title="Orca Whirlpools Core SDK">Orca Whirlpools Core SDK</a><ul><li><a href="#key-features" title="Key Features">Key Features</a></li><li><a href="#installation" title="Installation">Installation</a></li><li><a href="#usage" title="Usage">Usage</a></li></ul></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate orca_<wbr>whirlpools_<wbr>docs</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">orca_whirlpools_docs</a></span><h1>Module <span>orca_whirlpools_core</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/orca_whirlpools_docs/lib.rs.html#3">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="orca-whirlpools-core-sdk"><a class="doc-anchor" href="#orca-whirlpools-core-sdk">§</a>Orca Whirlpools Core SDK</h2>
<p>This package provides developers with advanced functionalities for interacting with the Whirlpool Program on Solana. The Core SDK offers convenient methods for math calculations, quotes, and other utilities, making it easier to manage complex liquidity and swap operations within Rust projects. It serves as the foundation for the High-Level SDK, providing key building blocks that enable developers to perform sophisticated actions while maintaining control over core details.</p>
<h3 id="key-features"><a class="doc-anchor" href="#key-features">§</a>Key Features</h3>
<ul>
<li><strong>Math Library</strong>: Contains a variety of functions for math operations related to bundles, positions, prices, ticks, and tokens, including calculations such as determining position status or price conversions.</li>
<li><strong>Quote Library</strong>: Provides utility functions for generating quotes, such as increasing liquidity, collecting fees or rewards, and swapping, enabling precise and optimized decision-making in liquidity management.</li>
</ul>
<h3 id="installation"><a class="doc-anchor" href="#installation">§</a>Installation</h3><div class="example-wrap"><pre class="language-bash"><code>cargo add orca_whirlpools_core</code></pre></div><h3 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h3>
<p>Here are some basic examples of how to use the package:</p>
<h4 id="math-example"><a class="doc-anchor" href="#math-example">§</a>Math Example</h4>
<p>The following example demonstrates how to use the <code>is_position_in_range</code> function to determine whether a position is currently in range.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>orca_whirlpools_core::is_position_in_range;

<span class="kw">fn </span>main() {
    <span class="kw">let </span>current_sqrt_price = <span class="number">7448043534253661173u128</span>;
    <span class="kw">let </span>tick_index_1 = -<span class="number">18304</span>;
    <span class="kw">let </span>tick_index_2 = -<span class="number">17956</span>;

    <span class="kw">let </span>in_range = is_position_in_range(current_sqrt_price.into(), tick_index_1, tick_index_2);
    <span class="macro">println!</span>(<span class="string">"Position in range? {:?}"</span>, in_range);
}</code></pre></div>
<p>Expected output:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code>Position <span class="kw">in </span>range<span class="question-mark">? </span><span class="bool-val">true</span></code></pre></div>
<h4 id="adjust-liquidity-quote-example"><a class="doc-anchor" href="#adjust-liquidity-quote-example">§</a>Adjust Liquidity Quote Example</h4>
<p>The following example demonstrates how to use the increase_liquidity_quote_a function to calculate a quote for increasing liquidity given a token A amount.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>orca_whirlpools_core::increase_liquidity_quote_a;
<span class="kw">use </span>orca_whirlpools_core::TransferFee;

<span class="kw">fn </span>main() {
    <span class="kw">let </span>token_amount_a = <span class="number">1000000000u64</span>;
    <span class="kw">let </span>slippage_tolerance_bps = <span class="number">100u16</span>;
    <span class="kw">let </span>current_sqrt_price = <span class="number">7437568627975669726u128</span>;
    <span class="kw">let </span>tick_index_1 = -<span class="number">18568</span>;
    <span class="kw">let </span>tick_index_2 = -<span class="number">17668</span>;
    <span class="kw">let </span>transfer_fee_a = <span class="prelude-val">Some</span>(TransferFee::new(<span class="number">200</span>));
    <span class="kw">let </span>transfer_fee_b = <span class="prelude-val">None</span>;

    <span class="kw">let </span>quote = increase_liquidity_quote_a(
        token_amount_a,
        slippage_tolerance_bps,
        current_sqrt_price.into(),
        tick_index_1,
        tick_index_2,
        transfer_fee_a,
        transfer_fee_b,
    ).unwrap();
    
    <span class="macro">println!</span>(<span class="string">"{:?}"</span>, quote);
}</code></pre></div>
<p>Expected output:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code>IncreaseLiquidityQuote {
    liquidity_delta: <span class="number">16011047470</span>,
    token_est_a: <span class="number">1000000000</span>,
    token_est_b: <span class="number">127889169</span>,
    token_max_a: <span class="number">1010000000</span>,
    token_max_b: <span class="number">129168061</span>,
}</code></pre></div>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AdaptiveFeeConstantsFacade.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::AdaptiveFeeConstantsFacade">Adaptive<wbr>FeeConstants<wbr>Facade</a></div></li><li><div class="item-name"><a class="struct" href="struct.AdaptiveFeeInfo.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::AdaptiveFeeInfo">Adaptive<wbr>FeeInfo</a></div></li><li><div class="item-name"><a class="struct" href="struct.AdaptiveFeeVariablesFacade.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::AdaptiveFeeVariablesFacade">Adaptive<wbr>FeeVariables<wbr>Facade</a></div></li><li><div class="item-name"><a class="struct" href="struct.CollectFeesQuote.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::CollectFeesQuote">Collect<wbr>Fees<wbr>Quote</a></div></li><li><div class="item-name"><a class="struct" href="struct.CollectRewardQuote.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::CollectRewardQuote">Collect<wbr>Reward<wbr>Quote</a></div></li><li><div class="item-name"><a class="struct" href="struct.CollectRewardsQuote.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::CollectRewardsQuote">Collect<wbr>Rewards<wbr>Quote</a></div></li><li><div class="item-name"><a class="struct" href="struct.DecreaseLiquidityQuote.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::DecreaseLiquidityQuote">Decrease<wbr>Liquidity<wbr>Quote</a></div></li><li><div class="item-name"><a class="struct" href="struct.ExactInSwapQuote.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::ExactInSwapQuote">Exact<wbr>InSwap<wbr>Quote</a></div></li><li><div class="item-name"><a class="struct" href="struct.ExactOutSwapQuote.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::ExactOutSwapQuote">Exact<wbr>OutSwap<wbr>Quote</a></div></li><li><div class="item-name"><a class="struct" href="struct.IncreaseLiquidityQuote.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::IncreaseLiquidityQuote">Increase<wbr>Liquidity<wbr>Quote</a></div></li><li><div class="item-name"><a class="struct" href="struct.OracleFacade.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::OracleFacade">Oracle<wbr>Facade</a></div></li><li><div class="item-name"><a class="struct" href="struct.PositionFacade.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::PositionFacade">Position<wbr>Facade</a></div></li><li><div class="item-name"><a class="struct" href="struct.PositionRatio.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::PositionRatio">Position<wbr>Ratio</a></div></li><li><div class="item-name"><a class="struct" href="struct.PositionRewardInfoFacade.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::PositionRewardInfoFacade">Position<wbr>Reward<wbr>Info<wbr>Facade</a></div></li><li><div class="item-name"><a class="struct" href="struct.SwapResult.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::SwapResult">Swap<wbr>Result</a></div></li><li><div class="item-name"><a class="struct" href="struct.TickArrayFacade.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::TickArrayFacade">Tick<wbr>Array<wbr>Facade</a></div></li><li><div class="item-name"><a class="struct" href="struct.TickArraySequence.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::TickArraySequence">Tick<wbr>Array<wbr>Sequence</a></div></li><li><div class="item-name"><a class="struct" href="struct.TickFacade.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::TickFacade">Tick<wbr>Facade</a></div></li><li><div class="item-name"><a class="struct" href="struct.TickRange.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::TickRange">Tick<wbr>Range</a></div></li><li><div class="item-name"><a class="struct" href="struct.TransferFee.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::TransferFee">Transfer<wbr>Fee</a></div></li><li><div class="item-name"><a class="struct" href="struct.WhirlpoolFacade.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::WhirlpoolFacade">Whirlpool<wbr>Facade</a></div></li><li><div class="item-name"><a class="struct" href="struct.WhirlpoolRewardInfoFacade.html" title="struct orca_whirlpools_docs::orca_whirlpools_core::WhirlpoolRewardInfoFacade">Whirlpool<wbr>Reward<wbr>Info<wbr>Facade</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.PositionStatus.html" title="enum orca_whirlpools_docs::orca_whirlpools_core::PositionStatus">Position<wbr>Status</a></div></li><li><div class="item-name"><a class="enum" href="enum.TickArrays.html" title="enum orca_whirlpools_docs::orca_whirlpools_core::TickArrays">Tick<wbr>Arrays</a></div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.ADAPTIVE_FEE_CONTROL_FACTOR_DENOMINATOR.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::ADAPTIVE_FEE_CONTROL_FACTOR_DENOMINATOR">ADAPTIVE_<wbr>FEE_<wbr>CONTROL_<wbr>FACTOR_<wbr>DENOMINATOR</a></div><div class="desc docblock-short">adaptive_fee_control_factor is used to map the square of the volatility accumulator to the fee rate.</div></li><li><div class="item-name"><a class="constant" href="constant.AMOUNT_EXCEEDS_MAX_U64.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::AMOUNT_EXCEEDS_MAX_U64">AMOUNT_<wbr>EXCEEDS_<wbr>MAX_<wbr>U64</a></div></li><li><div class="item-name"><a class="constant" href="constant.ARITHMETIC_OVERFLOW.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::ARITHMETIC_OVERFLOW">ARITHMETIC_<wbr>OVERFLOW</a></div></li><li><div class="item-name"><a class="constant" href="constant.BPS_DENOMINATOR.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::BPS_DENOMINATOR">BPS_<wbr>DENOMINATOR</a></div></li><li><div class="item-name"><a class="constant" href="constant.FEE_RATE_DENOMINATOR.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::FEE_RATE_DENOMINATOR">FEE_<wbr>RATE_<wbr>DENOMINATOR</a></div><div class="desc docblock-short">The denominator of the fee rate value.</div></li><li><div class="item-name"><a class="constant" href="constant.FEE_RATE_HARD_LIMIT.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::FEE_RATE_HARD_LIMIT">FEE_<wbr>RATE_<wbr>HARD_<wbr>LIMIT</a></div><div class="desc docblock-short">max fee rate should be controlled by max_volatility_accumulator, so this is a hard limit for safety.
Fee rate is represented as hundredths of a basis point.</div></li><li><div class="item-name"><a class="constant" href="constant.FULL_RANGE_ONLY_TICK_SPACING_THRESHOLD.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::FULL_RANGE_ONLY_TICK_SPACING_THRESHOLD">FULL_<wbr>RANGE_<wbr>ONLY_<wbr>TICK_<wbr>SPACING_<wbr>THRESHOLD</a></div><div class="desc docblock-short">Pools with tick spacing above this threshold are considered full range only.
This means the program rejects any non-full range positions in these pools.</div></li><li><div class="item-name"><a class="constant" href="constant.INVALID_ADAPTIVE_FEE_INFO.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::INVALID_ADAPTIVE_FEE_INFO">INVALID_<wbr>ADAPTIVE_<wbr>FEE_<wbr>INFO</a></div></li><li><div class="item-name"><a class="constant" href="constant.INVALID_SLIPPAGE_TOLERANCE.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::INVALID_SLIPPAGE_TOLERANCE">INVALID_<wbr>SLIPPAGE_<wbr>TOLERANCE</a></div></li><li><div class="item-name"><a class="constant" href="constant.INVALID_SQRT_PRICE_LIMIT_DIRECTION.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::INVALID_SQRT_PRICE_LIMIT_DIRECTION">INVALID_<wbr>SQRT_<wbr>PRICE_<wbr>LIMIT_<wbr>DIRECTION</a></div></li><li><div class="item-name"><a class="constant" href="constant.INVALID_TICK_ARRAY_SEQUENCE.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::INVALID_TICK_ARRAY_SEQUENCE">INVALID_<wbr>TICK_<wbr>ARRAY_<wbr>SEQUENCE</a></div></li><li><div class="item-name"><a class="constant" href="constant.INVALID_TICK_INDEX.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::INVALID_TICK_INDEX">INVALID_<wbr>TICK_<wbr>INDEX</a></div></li><li><div class="item-name"><a class="constant" href="constant.INVALID_TIMESTAMP.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::INVALID_TIMESTAMP">INVALID_<wbr>TIMESTAMP</a></div></li><li><div class="item-name"><a class="constant" href="constant.INVALID_TRANSFER_FEE.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::INVALID_TRANSFER_FEE">INVALID_<wbr>TRANSFER_<wbr>FEE</a></div></li><li><div class="item-name"><a class="constant" href="constant.MAX_REFERENCE_AGE.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::MAX_REFERENCE_AGE">MAX_<wbr>REFERENCE_<wbr>AGE</a></div><div class="desc docblock-short">The time (in seconds) to forcibly reset the reference if it is not updated for a long time.</div></li><li><div class="item-name"><a class="constant" href="constant.MAX_SQRT_PRICE.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::MAX_SQRT_PRICE">MAX_<wbr>SQRT_<wbr>PRICE</a></div><div class="desc docblock-short">The maximum sqrt price for a whirlpool.</div></li><li><div class="item-name"><a class="constant" href="constant.MAX_TICK_INDEX.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::MAX_TICK_INDEX">MAX_<wbr>TICK_<wbr>INDEX</a></div><div class="desc docblock-short">The maximum tick index.</div></li><li><div class="item-name"><a class="constant" href="constant.MIN_SQRT_PRICE.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::MIN_SQRT_PRICE">MIN_<wbr>SQRT_<wbr>PRICE</a></div><div class="desc docblock-short">The minimum sqrt price for a whirlpool.</div></li><li><div class="item-name"><a class="constant" href="constant.MIN_TICK_INDEX.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::MIN_TICK_INDEX">MIN_<wbr>TICK_<wbr>INDEX</a></div><div class="desc docblock-short">The minimum tick index.</div></li><li><div class="item-name"><a class="constant" href="constant.NUM_REWARDS.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::NUM_REWARDS">NUM_<wbr>REWARDS</a></div><div class="desc docblock-short">The number of reward tokens in a pool.</div></li><li><div class="item-name"><a class="constant" href="constant.POSITION_BUNDLE_SIZE.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::POSITION_BUNDLE_SIZE">POSITION_<wbr>BUNDLE_<wbr>SIZE</a></div><div class="desc docblock-short">The maximum number of positions in a position bundle.</div></li><li><div class="item-name"><a class="constant" href="constant.REDUCTION_FACTOR_DENOMINATOR.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::REDUCTION_FACTOR_DENOMINATOR">REDUCTION_<wbr>FACTOR_<wbr>DENOMINATOR</a></div><div class="desc docblock-short">The denominator of the reduction factor.</div></li><li><div class="item-name"><a class="constant" href="constant.SQRT_PRICE_LIMIT_OUT_OF_BOUNDS.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::SQRT_PRICE_LIMIT_OUT_OF_BOUNDS">SQRT_<wbr>PRICE_<wbr>LIMIT_<wbr>OUT_<wbr>OF_<wbr>BOUNDS</a></div></li><li><div class="item-name"><a class="constant" href="constant.SQRT_PRICE_OUT_OF_BOUNDS.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::SQRT_PRICE_OUT_OF_BOUNDS">SQRT_<wbr>PRICE_<wbr>OUT_<wbr>OF_<wbr>BOUNDS</a></div></li><li><div class="item-name"><a class="constant" href="constant.TICK_ARRAY_NOT_EVENLY_SPACED.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::TICK_ARRAY_NOT_EVENLY_SPACED">TICK_<wbr>ARRAY_<wbr>NOT_<wbr>EVENLY_<wbr>SPACED</a></div></li><li><div class="item-name"><a class="constant" href="constant.TICK_ARRAY_SIZE.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::TICK_ARRAY_SIZE">TICK_<wbr>ARRAY_<wbr>SIZE</a></div><div class="desc docblock-short">The number of ticks in a tick array.</div></li><li><div class="item-name"><a class="constant" href="constant.TICK_INDEX_NOT_IN_ARRAY.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::TICK_INDEX_NOT_IN_ARRAY">TICK_<wbr>INDEX_<wbr>NOT_<wbr>IN_<wbr>ARRAY</a></div></li><li><div class="item-name"><a class="constant" href="constant.TICK_INDEX_OUT_OF_BOUNDS.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::TICK_INDEX_OUT_OF_BOUNDS">TICK_<wbr>INDEX_<wbr>OUT_<wbr>OF_<wbr>BOUNDS</a></div></li><li><div class="item-name"><a class="constant" href="constant.TICK_SEQUENCE_EMPTY.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::TICK_SEQUENCE_EMPTY">TICK_<wbr>SEQUENCE_<wbr>EMPTY</a></div></li><li><div class="item-name"><a class="constant" href="constant.VOLATILITY_ACCUMULATOR_SCALE_FACTOR.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::VOLATILITY_ACCUMULATOR_SCALE_FACTOR">VOLATILITY_<wbr>ACCUMULATOR_<wbr>SCALE_<wbr>FACTOR</a></div><div class="desc docblock-short">This constant is used to scale the value of the volatility accumulator.</div></li><li><div class="item-name"><a class="constant" href="constant.ZERO_TRADABLE_AMOUNT.html" title="constant orca_whirlpools_docs::orca_whirlpools_core::ZERO_TRADABLE_AMOUNT">ZERO_<wbr>TRADABLE_<wbr>AMOUNT</a></div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.collect_fees_quote.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::collect_fees_quote">collect_<wbr>fees_<wbr>quote</a></div><div class="desc docblock-short">Calculate fees owed for a position</div></li><li><div class="item-name"><a class="fn" href="fn.collect_rewards_quote.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::collect_rewards_quote">collect_<wbr>rewards_<wbr>quote</a></div><div class="desc docblock-short">Calculate rewards owed for a position</div></li><li><div class="item-name"><a class="fn" href="fn.compute_swap.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::compute_swap">compute_<wbr>swap</a></div><div class="desc docblock-short">Computes the amounts of tokens A and B based on the current Whirlpool state and tick sequence.</div></li><li><div class="item-name"><a class="fn" href="fn.decrease_liquidity_quote.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::decrease_liquidity_quote">decrease_<wbr>liquidity_<wbr>quote</a></div><div class="desc docblock-short">Calculate the quote for decreasing liquidity</div></li><li><div class="item-name"><a class="fn" href="fn.decrease_liquidity_quote_a.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::decrease_liquidity_quote_a">decrease_<wbr>liquidity_<wbr>quote_<wbr>a</a></div><div class="desc docblock-short">Calculate the quote for decreasing liquidity given a token a amount</div></li><li><div class="item-name"><a class="fn" href="fn.decrease_liquidity_quote_b.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::decrease_liquidity_quote_b">decrease_<wbr>liquidity_<wbr>quote_<wbr>b</a></div><div class="desc docblock-short">Calculate the quote for decreasing liquidity given a token b amount</div></li><li><div class="item-name"><a class="fn" href="fn.first_unoccupied_position_in_bundle.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::first_unoccupied_position_in_bundle">first_<wbr>unoccupied_<wbr>position_<wbr>in_<wbr>bundle</a></div><div class="desc docblock-short">Get the first unoccupied position in a bundle</div></li><li><div class="item-name"><a class="fn" href="fn.get_full_range_tick_indexes.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::get_full_range_tick_indexes">get_<wbr>full_<wbr>range_<wbr>tick_<wbr>indexes</a></div><div class="desc docblock-short">Get the minimum and maximum tick index that can be initialized.</div></li><li><div class="item-name"><a class="fn" href="fn.get_initializable_tick_index.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::get_initializable_tick_index">get_<wbr>initializable_<wbr>tick_<wbr>index</a></div><div class="desc docblock-short">Get the initializable tick index.
If the tick index is already initializable, it is returned as is.</div></li><li><div class="item-name"><a class="fn" href="fn.get_next_initializable_tick_index.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::get_next_initializable_tick_index">get_<wbr>next_<wbr>initializable_<wbr>tick_<wbr>index</a></div><div class="desc docblock-short">Get the next initializable tick index.</div></li><li><div class="item-name"><a class="fn" href="fn.get_prev_initializable_tick_index.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::get_prev_initializable_tick_index">get_<wbr>prev_<wbr>initializable_<wbr>tick_<wbr>index</a></div><div class="desc docblock-short">Get the previous initializable tick index.</div></li><li><div class="item-name"><a class="fn" href="fn.get_tick_array_start_tick_index.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::get_tick_array_start_tick_index">get_<wbr>tick_<wbr>array_<wbr>start_<wbr>tick_<wbr>index</a></div><div class="desc docblock-short">Get the first tick index in the tick array that contains the specified tick index.</div></li><li><div class="item-name"><a class="fn" href="fn.get_tick_index_in_array.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::get_tick_index_in_array">get_<wbr>tick_<wbr>index_<wbr>in_<wbr>array</a></div><div class="desc docblock-short">Get the index of a tick in a tick array.</div></li><li><div class="item-name"><a class="fn" href="fn.increase_liquidity_quote.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::increase_liquidity_quote">increase_<wbr>liquidity_<wbr>quote</a></div><div class="desc docblock-short">Calculate the quote for increasing liquidity</div></li><li><div class="item-name"><a class="fn" href="fn.increase_liquidity_quote_a.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::increase_liquidity_quote_a">increase_<wbr>liquidity_<wbr>quote_<wbr>a</a></div><div class="desc docblock-short">Calculate the quote for increasing liquidity given a token a amount</div></li><li><div class="item-name"><a class="fn" href="fn.increase_liquidity_quote_b.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::increase_liquidity_quote_b">increase_<wbr>liquidity_<wbr>quote_<wbr>b</a></div><div class="desc docblock-short">Calculate the quote for increasing liquidity given a token b amount</div></li><li><div class="item-name"><a class="fn" href="fn.invert_price.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::invert_price">invert_<wbr>price</a></div><div class="desc docblock-short">Invert a price
IMPORTANT: floating point operations can reduce the precision of the result.
Make sure to do these operations last and not to use the result for further calculations.</div></li><li><div class="item-name"><a class="fn" href="fn.invert_sqrt_price.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::invert_sqrt_price">invert_<wbr>sqrt_<wbr>price</a></div><div class="desc docblock-short">Get the sqrt price for the inverse of the price that this tick represents.
Because converting to a tick index and then back to a sqrt price is lossy,
this function is clamped to the nearest tick index.</div></li><li><div class="item-name"><a class="fn" href="fn.invert_tick_index.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::invert_tick_index">invert_<wbr>tick_<wbr>index</a></div><div class="desc docblock-short">Get the tick index for the inverse of the price that this tick represents.
Eg: Consider tick i where Pb/Pa = 1.0001 ^ i
inverse of this, i.e. Pa/Pb = 1 / (1.0001 ^ i) = 1.0001^-i</div></li><li><div class="item-name"><a class="fn" href="fn.is_full_range_only.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::is_full_range_only">is_<wbr>full_<wbr>range_<wbr>only</a></div><div class="desc docblock-short">Check if a whirlpool is a full-range only pool.</div></li><li><div class="item-name"><a class="fn" href="fn.is_initialized_with_adaptive_fee.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::is_initialized_with_adaptive_fee">is_<wbr>initialized_<wbr>with_<wbr>adaptive_<wbr>fee</a></div><div class="desc docblock-short">Check if the whirlpool is initialized with adaptive fee</div></li><li><div class="item-name"><a class="fn" href="fn.is_position_bundle_empty.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::is_position_bundle_empty">is_<wbr>position_<wbr>bundle_<wbr>empty</a></div><div class="desc docblock-short">Check whether a position bundle is empty</div></li><li><div class="item-name"><a class="fn" href="fn.is_position_bundle_full.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::is_position_bundle_full">is_<wbr>position_<wbr>bundle_<wbr>full</a></div><div class="desc docblock-short">Check whether a position bundle is full
A position bundle can contain 256 positions</div></li><li><div class="item-name"><a class="fn" href="fn.is_position_in_range.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::is_position_in_range">is_<wbr>position_<wbr>in_<wbr>range</a></div><div class="desc docblock-short">Check if a position is in range.
When a position is in range it is earning fees and rewards</div></li><li><div class="item-name"><a class="fn" href="fn.is_tick_index_in_bounds.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::is_tick_index_in_bounds">is_<wbr>tick_<wbr>index_<wbr>in_<wbr>bounds</a></div><div class="desc docblock-short">Check if a tick is in-bounds.</div></li><li><div class="item-name"><a class="fn" href="fn.is_tick_initializable.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::is_tick_initializable">is_<wbr>tick_<wbr>initializable</a></div><div class="desc docblock-short">Check if a tick is initializable.
A tick is initializable if it is divisible by the tick spacing.</div></li><li><div class="item-name"><a class="fn" href="fn.order_tick_indexes.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::order_tick_indexes">order_<wbr>tick_<wbr>indexes</a></div><div class="desc docblock-short">Order tick indexes in ascending order.
If the lower tick index is greater than the upper tick index, the indexes are swapped.
This is useful for ensuring that the lower tick index is always less than the upper tick index.</div></li><li><div class="item-name"><a class="fn" href="fn.position_ratio.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::position_ratio">position_<wbr>ratio</a></div><div class="desc docblock-short">Calculate the token_a / token_b ratio of a (ficticious) position</div></li><li><div class="item-name"><a class="fn" href="fn.position_status.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::position_status">position_<wbr>status</a></div><div class="desc docblock-short">Calculate the status of a position
The status can be one of three values:</div></li><li><div class="item-name"><a class="fn" href="fn.price_to_sqrt_price.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::price_to_sqrt_price">price_<wbr>to_<wbr>sqrt_<wbr>price</a></div><div class="desc docblock-short">Convert a price into a sqrt priceX64
IMPORTANT: floating point operations can reduce the precision of the result.
Make sure to do these operations last and not to use the result for further calculations.</div></li><li><div class="item-name"><a class="fn" href="fn.price_to_tick_index.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::price_to_tick_index">price_<wbr>to_<wbr>tick_<wbr>index</a></div><div class="desc docblock-short">Convert a price into a tick index
IMPORTANT: floating point operations can reduce the precision of the result.
Make sure to do these operations last and not to use the result for further calculations.</div></li><li><div class="item-name"><a class="fn" href="fn.sqrt_price_to_price.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::sqrt_price_to_price">sqrt_<wbr>price_<wbr>to_<wbr>price</a></div><div class="desc docblock-short">Convert a sqrt priceX64 into a tick index
IMPORTANT: floating point operations can reduce the precision of the result.
Make sure to do these operations last and not to use the result for further calculations.</div></li><li><div class="item-name"><a class="fn" href="fn.sqrt_price_to_tick_index.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::sqrt_price_to_tick_index">sqrt_<wbr>price_<wbr>to_<wbr>tick_<wbr>index</a></div><div class="desc docblock-short">Derive the tick index from a sqrt price. The precision of this method is only guarranted
if tick is within the bounds of {max, min} tick-index.
This function will make panic for zero sqrt price.</div></li><li><div class="item-name"><a class="fn" href="fn.swap_quote_by_input_token.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::swap_quote_by_input_token">swap_<wbr>quote_<wbr>by_<wbr>input_<wbr>token</a></div><div class="desc docblock-short">Computes the exact input or output amount for a swap transaction.</div></li><li><div class="item-name"><a class="fn" href="fn.swap_quote_by_output_token.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::swap_quote_by_output_token">swap_<wbr>quote_<wbr>by_<wbr>output_<wbr>token</a></div><div class="desc docblock-short">Computes the exact input or output amount for a swap transaction.</div></li><li><div class="item-name"><a class="fn" href="fn.tick_index_to_price.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::tick_index_to_price">tick_<wbr>index_<wbr>to_<wbr>price</a></div><div class="desc docblock-short">Convert a tick index into a price
IMPORTANT: floating point operations can reduce the precision of the result.
Make sure to do these operations last and not to use the result for further calculations.</div></li><li><div class="item-name"><a class="fn" href="fn.tick_index_to_sqrt_price.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::tick_index_to_sqrt_price">tick_<wbr>index_<wbr>to_<wbr>sqrt_<wbr>price</a></div><div class="desc docblock-short">Derive the sqrt-price from a tick index. The precision of this method is only guarranted
if tick is within the bounds of {max, min} tick-index.</div></li><li><div class="item-name"><a class="fn" href="fn.try_apply_swap_fee.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_apply_swap_fee">try_<wbr>apply_<wbr>swap_<wbr>fee</a></div><div class="desc docblock-short">Apply a swap fee to an amount
e.g. You send 10000 amount with 10000 fee rate. The fee amount will be 100.
So the amount after fee will be 9900.</div></li><li><div class="item-name"><a class="fn" href="fn.try_apply_transfer_fee.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_apply_transfer_fee">try_<wbr>apply_<wbr>transfer_<wbr>fee</a></div><div class="desc docblock-short">Apply a transfer fee to an amount
e.g. You send 10000 amount with 100 fee rate. The fee amount will be 100.
So the amount after fee will be 9900.</div></li><li><div class="item-name"><a class="fn" href="fn.try_get_amount_delta_a.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_get_amount_delta_a">try_<wbr>get_<wbr>amount_<wbr>delta_<wbr>a</a></div><div class="desc docblock-short">Calculate the amount A delta between two sqrt_prices</div></li><li><div class="item-name"><a class="fn" href="fn.try_get_amount_delta_b.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_get_amount_delta_b">try_<wbr>get_<wbr>amount_<wbr>delta_<wbr>b</a></div><div class="desc docblock-short">Calculate the amount B delta between two sqrt_prices</div></li><li><div class="item-name"><a class="fn" href="fn.try_get_max_amount_with_slippage_tolerance.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_get_max_amount_with_slippage_tolerance">try_<wbr>get_<wbr>max_<wbr>amount_<wbr>with_<wbr>slippage_<wbr>tolerance</a></div><div class="desc docblock-short">Get the maximum amount with a slippage tolerance
e.g. Your estimated amount you send is 10000 with 100 slippage tolerance. The max you send will be 10100.</div></li><li><div class="item-name"><a class="fn" href="fn.try_get_min_amount_with_slippage_tolerance.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_get_min_amount_with_slippage_tolerance">try_<wbr>get_<wbr>min_<wbr>amount_<wbr>with_<wbr>slippage_<wbr>tolerance</a></div><div class="desc docblock-short">Get the minimum amount with a slippage tolerance
e.g. Your estimated amount you receive is 10000 with 100 slippage tolerance. The min amount you receive will be 9900.</div></li><li><div class="item-name"><a class="fn" href="fn.try_get_next_sqrt_price_from_a.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_get_next_sqrt_price_from_a">try_<wbr>get_<wbr>next_<wbr>sqrt_<wbr>price_<wbr>from_<wbr>a</a></div><div class="desc docblock-short">Calculate the next square root price</div></li><li><div class="item-name"><a class="fn" href="fn.try_get_next_sqrt_price_from_b.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_get_next_sqrt_price_from_b">try_<wbr>get_<wbr>next_<wbr>sqrt_<wbr>price_<wbr>from_<wbr>b</a></div><div class="desc docblock-short">Calculate the next square root price</div></li><li><div class="item-name"><a class="fn" href="fn.try_get_token_estimates_from_liquidity.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_get_token_estimates_from_liquidity">try_<wbr>get_<wbr>token_<wbr>estimates_<wbr>from_<wbr>liquidity</a></div><div class="desc docblock-short">Calculate the estimated token amounts for a given liquidity delta and price range</div></li><li><div class="item-name"><a class="fn" href="fn.try_reverse_apply_swap_fee.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_reverse_apply_swap_fee">try_<wbr>reverse_<wbr>apply_<wbr>swap_<wbr>fee</a></div><div class="desc docblock-short">Reverse the application of a swap fee to an amount
e.g. You received 9900 amount with 10000 fee rate. The fee amount will be 100.
So the amount before fee will be 10000.</div></li><li><div class="item-name"><a class="fn" href="fn.try_reverse_apply_transfer_fee.html" title="fn orca_whirlpools_docs::orca_whirlpools_core::try_reverse_apply_transfer_fee">try_<wbr>reverse_<wbr>apply_<wbr>transfer_<wbr>fee</a></div><div class="desc docblock-short">Reverse the application of a transfer fee to an amount
e.g. You received 9900 amount with 100 fee rate. The fee amount will be 100.
So the amount before fee will be 10000.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.CoreError.html" title="type orca_whirlpools_docs::orca_whirlpools_core::CoreError">Core<wbr>Error</a></div></li><li><div class="item-name"><a class="type" href="type.U128.html" title="type orca_whirlpools_docs::orca_whirlpools_core::U128">U128</a></div></li></ul></section></div></main></body></html>